import math
from timeit import default_timer as timer


def f1(n):
    s = 0
    for j in range(1, n):
        s = s + 1 / j
    return s


# O(n)
# 2000 0.0003660490001493599 2000 5463749.3865136495
# 4000 0.0007922120021248702 4000 5049153.495871313
# 8000 0.0014559219998773187 8000 5494799.859246655
# 16000 0.0027572979997785296 16000 5802782.289504125
# 32000 0.005501725998328766 32000 5816356.541514516


def f2(n):
    s = 0
    for j in range(1, n):
        for k in range(1, n):
            s = s + k / j
    return s


# O(n**2)
# 2000 0.2227535500023805 4000000 17957065.106065664
# 4000 0.8879444060003152 16000000 18019146.122076385
# 8000 3.934678254001483 64000000 16265624.752141647
# 16000 15.260158787001274 256000000 16775710.107162375
# 32000 59.27125685500141 1024000000 17276502.209242307


def f3(n):
    s = 0
    for j in range(1, n):
        for k in range(j, n):
            s = s + k / j
    return s


# O(n * logn)
# 2000 0.12249889799932134 21931.568569324176 179034.82339445764
# 4000 0.4703057289989374 47863.13713864835 101770.26174128636
# 8000 1.887010286001896 103726.2742772967 54968.57915759792
# 16000 7.656009665999591 223452.5485545934 29186.55517729402
# 32000 30.425178920999315 478905.0971091868 15740.420076170818


def f4(n):
    s = 0
    for j in range(1, n):
        k = 2
        while k <= n:
            s = s + k / j
            k = k * 2
    return s


# O(n * logn)
# 2000 0.0013529749994631857 21931.568569324176 16209884.571426578
# 4000 0.0030393829983950127 47863.13713864835 15747649.165611286
# 8000 0.007501962001697393 103726.2742772967 13826552.874278435
# 16000 0.014072379999561235 223452.5485545934 15878802.914756456
# 32000 0.02931158000137657 478905.0971091868 16338426.556558734


def f5(n):
    s = 0
    k = 2
    while k <= n:
        s = s + 1 / k
        k = k * 2
    return s


# O(logn)
# 2000 8.064998837653548e-06 10.965784284662087 1359675.8667174838
# 4000 7.893999281805009e-06 11.965784284662087 1515807.6226637356
# 8000 3.2460011425428092e-06 12.965784284662087 3994386.851788081
# 16000 2.0029983716085553e-06 13.965784284662087 6972439.160520402
# 32000 7.042999641271308e-06 14.965784284662087 2124916.2355431644


nn = [2000, 4000, 8000, 16000, 32000]

for n in nn:
    start = timer()
    f5(n)
    stop = timer()
    Tn = stop - start
    Fn = math.log(n, 2)
    print(n, Tn, Fn, Fn / Tn)

# inne funkcje czasu:

# Fn=math.log(n,2)
# Fn=n
# Fn=100*n
# Fn=n*math.log(n,2)
# Fn=n*n
